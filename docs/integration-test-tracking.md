# 前后端联调测试跟踪表

**测试日期**: \***\*\_\_\_\*\***
**测试人员**: \***\*\_\_\_\*\***
**测试环境**: 开发环境

---

## 快速检查清单

### 环境准备 ✓/✗

| 检查项            | 状态 | 备注 |
| ----------------- | ---- | ---- |
| 数据库连接正常    | ☐    |      |
| Schema 迁移已应用 | ☐    |      |
| 测试账号已创建    | ☐    |      |
| Gateway 服务启动  | ☐    |      |
| Web Admin 启动    | ☐    |      |

---

## 用户认证测试 ✓/✗

| 测试用例                             | 状态 | 问题 | 截图 |
| ------------------------------------ | ---- | ---- | ---- |
| **TC-USER-001**: 正确密码登录        | ☐    |      |      |
| **TC-USER-002**: 错误密码登录        | ☐    |      |      |
| **TC-USER-003**: 账户锁定（5次失败） | ☐    |      |      |
| **TC-USER-004**: Token 自动刷新      | ☐    |      |      |
| **TC-USER-005**: 用户登出            | ☐    |      |      |

**用户认证测试结果**: 通过 **\_** / 5

---

## 管理员认证测试 ✓/✗

| 测试用例                              | 状态 | 问题 | 截图 |
| ------------------------------------- | ---- | ---- | ---- |
| **TC-ADMIN-001**: 正确密码登录        | ☐    |      |      |
| **TC-ADMIN-002**: 错误密码登录        | ☐    |      |      |
| **TC-ADMIN-003**: 账户锁定（5次失败） | ☐    |      |      |
| **TC-ADMIN-004**: Token 自动刷新      | ☐    |      |      |
| **TC-ADMIN-005**: 登出所有设备        | ☐    |      |      |

**管理员认证测试结果**: 通过 **\_** / 5

---

## 安全特性测试 ✓/✗

| 测试用例                            | 状态 | 问题 | 备注 |
| ----------------------------------- | ---- | ---- | ---- |
| **TC-SEC-001**: IP 限流（20次失败） | ☐    |      |      |
| **TC-SEC-002**: MFA 验证            | ☐    |      |      |
| **TC-SEC-003**: 会话管理            | ☐    |      |      |

**安全特性测试结果**: 通过 **\_** / 3

---

## 性能测试 ✓/✗

| 测试用例                             | 状态 | 指标               | 备注 |
| ------------------------------------ | ---- | ------------------ | ---- |
| **TC-PERF-001**: 并发登录（100并发） | ☐    | 响应时间: \_\_\_ms |      |
| **TC-PERF-002**: Token 刷新性能      | ☐    | 响应时间: \_\_\_ms |      |

**性能测试结果**: 通过 **\_** / 2

---

## 浏览器兼容性 ✓/✗

| 浏览器  | 登录 | Token刷新 | 登出 | 问题 |
| ------- | ---- | --------- | ---- | ---- |
| Chrome  | ☐    | ☐         | ☐    |      |
| Firefox | ☐    | ☐         | ☐    |      |
| Edge    | ☐    | ☐         | ☐    |      |
| Safari  | ☐    | ☐         | ☐    |      |

---

## 缺陷记录

### 缺陷 #1

- **严重程度**: ☐ 致命 ☐ 严重 ☐ 一般 ☐ 轻微
- **测试用例**: \***\*\_\_\_\*\***
- **描述**: \***\*\_\_\_\*\***
- **重现步骤**: \***\*\_\_\_\*\***
- **预期结果**: \***\*\_\_\_\*\***
- **实际结果**: \***\*\_\_\_\*\***
- **状态**: ☐ 待修复 ☐ 已修复 ☐ 已验证

### 缺陷 #2

- **严重程度**: ☐ 致命 ☐ 严重 ☐ 一般 ☐ 轻微
- **测试用例**: \***\*\_\_\_\*\***
- **描述**: \***\*\_\_\_\*\***
- **重现步骤**: \***\*\_\_\_\*\***
- **预期结果**: \***\*\_\_\_\*\***
- **实际结果**: \***\*\_\_\_\*\***
- **状态**: ☐ 待修复 ☐ 已修复 ☐ 已验证

### 缺陷 #3

- **严重程度**: ☐ 致命 ☐ 严重 ☐ 一般 ☐ 轻微
- **测试用例**: \***\*\_\_\_\*\***
- **描述**: \***\*\_\_\_\*\***
- **重现步骤**: \***\*\_\_\_\*\***
- **预期结果**: \***\*\_\_\_\*\***
- **实际结果**: \***\*\_\_\_\*\***
- **状态**: ☐ 待修复 ☐ 已修复 ☐ 已验证

---

## 测试总结

### 统计数据

- **总测试用例数**: 21
- **已执行**: **\_**
- **通过**: **\_**
- **失败**: **\_**
- **阻塞**: **\_**
- **通过率**: **\_**%

### 主要发现

1. ***
2. ***
3. ***

### 风险评估

- ☐ 低风险 - 可以上线
- ☐ 中风险 - 需要修复部分问题后上线
- ☐ 高风险 - 不建议上线

### 改进建议

1. ***
2. ***
3. ***

### 测试结论

- ☐ 测试通过，建议上线
- ☐ 测试通过，但有改进建议
- ☐ 测试未通过，需要修复缺陷

---

**测试负责人签字**: \***\*\_\_\_\*\***
**日期**: \***\*\_\_\_\*\***

---

## 附录：测试凭据

### 用户账号

- **邮箱**: test@example.com
- **密码**: TestP@ssw0rd123

### 管理员账号

- **用户名**: testadmin
- **密码**: AdminP@ssw0rd123

### 测试环境

- **Gateway**: http://localhost:18789
- **Web Admin**: http://localhost:5173
- **数据库**: 10.157.152.40:22001

---

## 快速命令参考

```bash
# 1. 应用数据库迁移
psql "postgresql://openclaw_admin:Oc%402026!Pg%23Secure@10.157.152.40:22001/openclaw_prod" \
  -f src/db/migrations/0006_fix_all_schema_differences.sql

# 2. 创建测试账号
bun run scripts/integration-test.ts

# 3. 启动后端服务
pnpm dev:gateway

# 4. 启动前端应用
cd apps/web-admin && pnpm dev

# 5. 健康检查
curl http://localhost:18789/health

# 6. 性能测试（登录）
ab -n 1000 -c 100 -p login.json -T application/json \
  http://localhost:18789/api/auth/login
```
