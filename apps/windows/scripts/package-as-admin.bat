@echo off
:: 检查管理员权限
net session >nul 2>&1
if %errorLevel% neq 0 (
    echo.
    echo ============================================================
    echo   需要管理员权限
    echo ============================================================
    echo.
    echo 正在请求管理员权限...
    echo.
    
    :: 请求管理员权限重新运行此脚本
    powershell -Command "Start-Process '%~f0' -Verb RunAs"
    exit /b
)

:: 设置代码页为 UTF-8
chcp 65001 >nul

:: 进入脚本所在目录的上级目录
cd /d "%~dp0.."

echo.
echo ============================================================
echo   以管理员权限运行 Windows 打包
echo ============================================================
echo.

:: 运行打包脚本
node scripts\package-windows.js

:: 保持窗口打开
echo.
echo ============================================================
pause
