# OpenClaw Windows AI 助手 - 测试计划

> 版本: 1.0 | 创建日期: 2026-02-07 | 状态: 待测试

本文档为用户提供完整的功能测试指南，帮助验证 Windows AI 助手的所有功能是否正常工作。

---

## 目录

1. [测试环境准备](#1-测试环境准备)
2. [Phase 1: 基础架构测试](#2-phase-1-基础架构测试)
3. [Phase 2: 核心功能测试](#3-phase-2-核心功能测试)
4. [Phase 3: 技能系统测试](#4-phase-3-技能系统测试)
5. [Phase 4: 商业化功能测试](#5-phase-4-商业化功能测试)
6. [性能测试](#6-性能测试)
7. [安全测试](#7-安全测试)
8. [问题报告模板](#8-问题报告模板)

---

## 1. 测试环境准备

### 1.1 系统要求

| 项目 | 最低要求 | 推荐配置 |
|------|----------|----------|
| 操作系统 | Windows 10 64-bit | Windows 11 64-bit |
| 内存 | 4GB RAM | 8GB RAM |
| 磁盘空间 | 500MB | 1GB |
| 网络 | 稳定的网络连接 | - |

### 1.2 前置准备

- [ ] 确保 Gateway 服务已启动并可访问
- [ ] 准备测试用的 Gateway URL (默认: `ws://localhost:18789`)
- [ ] 准备一些测试文件和文件夹
- [ ] 关闭其他可能占用资源的应用程序

### 1.3 启动应用

**开发环境:**
```bash
cd apps/windows
pnpm dev
```

**生产环境:**
- 双击安装包进行安装
- 从开始菜单启动 "OpenClaw Assistant"

---

## 2. Phase 1: 基础架构测试

### 2.1 应用启动测试

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 应用启动 | 启动应用程序 | 应用正常启动，无错误 | ☐ |
| 托盘图标 | 查看系统托盘 | 显示 OpenClaw 托盘图标 | ☐ |
| 窗口显示 | 点击托盘图标 | 主窗口显示 | ☐ |
| 窗口隐藏 | 点击关闭按钮 | 窗口隐藏到托盘，不退出 | ☐ |
| 单实例 | 再次启动应用 | 聚焦到已有窗口，不启动新实例 | ☐ |

### 2.2 窗口控制测试

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 最小化 | 点击最小化按钮 | 窗口最小化到任务栏 | ☐ |
| 最大化 | 点击最大化按钮 | 窗口最大化 | ☐ |
| 还原 | 再次点击最大化按钮 | 窗口还原到原始大小 | ☐ |
| 关闭 | 点击关闭按钮 | 窗口隐藏到托盘 | ☐ |
| 拖拽 | 拖拽标题栏 | 窗口可自由移动 | ☐ |
| 调整大小 | 拖拽窗口边缘 | 窗口可调整大小 | ☐ |

### 2.3 托盘菜单测试

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 显示主窗口 | 右键托盘 → 显示窗口 | 主窗口显示 | ☐ |
| 连接状态 | 查看托盘菜单 | 显示当前连接状态 | ☐ |
| 切换连接 | 点击连接/断开 | 连接状态切换 | ☐ |
| 退出应用 | 右键托盘 → 退出 | 应用完全退出 | ☐ |

### 2.4 Gateway 连接测试

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 连接 Gateway | 输入 Gateway URL 并连接 | 显示"已连接"状态 | ☐ |
| 断开连接 | 点击断开连接 | 显示"未连接"状态 | ☐ |
| 自动重连 | Gateway 重启后 | 自动尝试重连 | ☐ |
| 错误提示 | 输入错误的 URL | 显示连接失败提示 | ☐ |

### 2.5 设备配对测试

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 生成配对码 | 点击"获取配对码" | 显示 6 位配对码 | ☐ |
| 配对码有效期 | 等待 5 分钟 | 配对码过期，需重新获取 | ☐ |
| 输入配对码 | 输入有效配对码 | 配对成功 | ☐ |
| 配对状态 | 查看配对状态 | 显示已配对设备信息 | ☐ |
| 取消配对 | 点击"取消配对" | 配对状态清除 | ☐ |

---

## 3. Phase 2: 核心功能测试

### 3.1 AI 对话测试

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 发送消息 | 输入消息并发送 | 消息显示在对话列表 | ☐ |
| 接收回复 | 等待 AI 回复 | 显示 AI 回复内容 | ☐ |
| Markdown 渲染 | AI 回复包含 Markdown | 正确渲染粗体、代码块等 | ☐ |
| 代码复制 | 点击代码块的复制按钮 | 代码复制到剪贴板 | ☐ |
| 新建对话 | 点击"新对话"按钮 | 创建新的对话会话 | ☐ |
| 切换对话 | 点击历史对话 | 切换到对应对话 | ☐ |
| 删除对话 | 点击删除按钮 | 对话被删除 | ☐ |
| 重命名对话 | 点击重命名按钮 | 可以修改对话标题 | ☐ |
| 清空对话 | 点击清空按钮 | 当前对话消息被清空 | ☐ |
| 会话侧边栏 | 点击切换按钮 | 侧边栏显示/隐藏 | ☐ |

### 3.2 文件管理测试

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 浏览目录 | 打开文件管理页面 | 显示目录列表 | ☐ |
| 进入文件夹 | 双击文件夹 | 进入该文件夹 | ☐ |
| 返回上级 | 点击返回按钮 | 返回上级目录 | ☐ |
| 路径导航 | 点击面包屑路径 | 跳转到对应目录 | ☐ |
| 刷新目录 | 点击刷新按钮 | 刷新当前目录 | ☐ |
| 新建文件夹 | 点击新建文件夹 | 创建新文件夹 | ☐ |
| 重命名 | 右键 → 重命名 | 可以重命名文件/文件夹 | ☐ |
| 删除 | 右键 → 删除 | 文件/文件夹被删除 | ☐ |
| 复制 | 右键 → 复制 | 文件被复制 | ☐ |
| 移动 | 右键 → 移动 | 文件被移动 | ☐ |
| 文件搜索 | 输入搜索关键词 | 显示匹配的文件 | ☐ |
| 文件预览 | 点击文本文件 | 显示文件内容预览 | ☐ |

### 3.3 系统监控测试

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 系统信息 | 打开系统监控页面 | 显示 CPU、内存、磁盘信息 | ☐ |
| 实时更新 | 等待几秒 | 数据自动刷新 | ☐ |
| 进程列表 | 查看进程标签 | 显示运行中的进程 | ☐ |
| 进程搜索 | 搜索进程名 | 显示匹配的进程 | ☐ |
| 结束进程 | 选择进程并结束 | 进程被终止 | ☐ |
| 磁盘信息 | 查看磁盘标签 | 显示各磁盘使用情况 | ☐ |

### 3.4 敏感操作确认测试

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 删除确认 | AI 尝试删除文件 | 弹出确认对话框 | ☐ |
| 确认操作 | 点击确认 | 操作执行 | ☐ |
| 拒绝操作 | 点击拒绝 | 操作取消 | ☐ |
| 超时处理 | 等待 60 秒 | 自动拒绝 | ☐ |

### 3.5 审计日志测试

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 查看日志 | 打开审计日志页面 | 显示操作日志列表 | ☐ |
| 日志筛选 | 按类型筛选 | 显示对应类型的日志 | ☐ |
| 日志搜索 | 搜索关键词 | 显示匹配的日志 | ☐ |
| 日志详情 | 点击日志条目 | 显示详细信息 | ☐ |
| 日志导出 | 点击导出按钮 | 导出日志文件 | ☐ |

---

## 4. Phase 3: 技能系统测试

### 4.1 技能管理测试

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 技能列表 | 打开技能管理页面 | 显示已安装技能列表 | ☐ |
| 内置技能 | 查看内置技能 | 显示文件整理、系统清理技能 | ☐ |
| 技能详情 | 点击技能卡片 | 显示技能详细信息 | ☐ |
| 启用技能 | 切换启用开关 | 技能状态变更 | ☐ |
| 禁用技能 | 切换禁用开关 | 技能状态变更 | ☐ |

### 4.2 技能执行测试

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 文件整理 | 执行文件整理技能 | 按类型整理文件 | ☐ |
| 系统清理 | 执行系统清理技能 | 清理临时文件 | ☐ |
| 执行日志 | 查看执行结果 | 显示执行日志 | ☐ |
| 取消执行 | 执行中点击取消 | 技能执行被取消 | ☐ |

### 4.3 技能商店测试

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 商店列表 | 打开技能商店 | 显示可用技能列表 | ☐ |
| 分类筛选 | 选择技能分类 | 显示对应分类技能 | ☐ |
| 技能搜索 | 搜索技能名称 | 显示匹配的技能 | ☐ |
| 安装技能 | 点击安装按钮 | 技能开始安装 | ☐ |
| 卸载技能 | 点击卸载按钮 | 技能被卸载 | ☐ |
| 更新技能 | 点击更新按钮 | 技能更新到最新版本 | ☐ |

---

## 5. Phase 4: 商业化功能测试

### 5.1 用户订阅测试

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 订阅状态 | 打开订阅管理页面 | 显示当前订阅状态 | ☐ |
| 订阅计划 | 查看可用计划 | 显示免费/专业/企业计划 | ☐ |
| 配额显示 | 查看使用配额 | 显示对话次数、技能执行次数等 | ☐ |
| 配额警告 | 配额接近上限 | 显示警告提示 | ☐ |

### 5.2 支付功能测试

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 支付页面 | 打开支付页面 | 显示计划选择界面 | ☐ |
| 切换计费周期 | 点击月付/年付 | 价格相应变化 | ☐ |
| 选择计划 | 点击计划卡片 | 计划被选中 | ☐ |
| 选择支付方式 | 选择支付宝/微信 | 支付方式被选中 | ☐ |
| 价格计算 | 查看价格汇总 | 显示原价、折扣、最终价格 | ☐ |
| 创建订单 | 点击立即购买 | 订单创建成功 | ☐ |
| 支付模拟 | 点击模拟支付完成 | 订单状态更新为已支付 | ☐ |
| 订单列表 | 切换到订单历史 | 显示历史订单 | ☐ |
| 取消订单 | 点击取消订单 | 订单状态更新为已取消 | ☐ |

### 5.3 自动更新测试

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 检查更新 | 点击检查更新 | 显示当前版本和更新状态 | ☐ |
| 更新提示 | 有新版本时 | 显示更新提示 | ☐ |
| 下载更新 | 点击下载更新 | 开始下载，显示进度 | ☐ |
| 安装更新 | 下载完成后安装 | 应用重启并更新 | ☐ |
| 自动检查 | 启动应用 | 自动检查更新（后台） | ☐ |

### 5.4 设置功能测试

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 常规设置 | 打开设置页面 | 显示设置选项 | ☐ |
| 开机启动 | 切换开机启动 | 设置生效 | ☐ |
| 主题切换 | 切换深色/浅色主题 | 界面主题变更 | ☐ |
| 语言切换 | 切换语言 | 界面语言变更 | ☐ |
| Gateway 设置 | 修改 Gateway URL | 设置保存 | ☐ |
| 重置设置 | 点击重置 | 恢复默认设置 | ☐ |

---

## 6. 性能测试

### 6.1 启动性能

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 冷启动时间 | 首次启动应用 | < 5 秒显示窗口 | ☐ |
| 热启动时间 | 从托盘显示窗口 | < 1 秒显示窗口 | ☐ |

### 6.2 响应性能

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 页面切换 | 点击侧边栏导航 | < 200ms 切换完成 | ☐ |
| 列表滚动 | 快速滚动长列表 | 滚动流畅，无卡顿 | ☐ |
| 搜索响应 | 输入搜索关键词 | < 500ms 显示结果 | ☐ |

### 6.3 内存占用

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 空闲内存 | 应用空闲状态 | < 200MB | ☐ |
| 工作内存 | 正常使用状态 | < 500MB | ☐ |
| 内存泄漏 | 长时间使用 | 内存不持续增长 | ☐ |

### 6.4 缓存效果

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 目录缓存 | 重复访问同一目录 | 第二次加载更快 | ☐ |
| 系统信息缓存 | 频繁刷新系统信息 | 不会频繁调用系统 API | ☐ |
| 进程列表缓存 | 频繁刷新进程列表 | 不会频繁调用 PowerShell | ☐ |

---

## 7. 安全测试

### 7.1 路径安全

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| 路径遍历 | 尝试访问 `../../etc/passwd` | 拒绝访问，显示错误 | ☐ |
| 系统目录 | 尝试访问系统敏感目录 | 拒绝访问 | ☐ |
| 用户目录 | 访问用户文档目录 | 正常访问 | ☐ |

### 7.2 输入验证

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| XSS 注入 | 输入 `<script>alert(1)</script>` | 内容被转义，不执行 | ☐ |
| 命令注入 | 文件名包含 `; rm -rf /` | 命令不被执行 | ☐ |
| 超长输入 | 输入超长文本 | 正常处理，不崩溃 | ☐ |

### 7.3 认证安全

| 测试项 | 步骤 | 预期结果 | 通过 |
|--------|------|----------|------|
| Token 存储 | 检查 Token 存储位置 | 安全存储，不明文 | ☐ |
| Token 刷新 | Token 过期后 | 自动刷新或提示重新认证 | ☐ |
| 未认证访问 | 未配对时访问功能 | 提示需要配对 | ☐ |

---

## 8. 问题报告模板

如果在测试过程中发现问题，请使用以下模板报告：

```markdown
### 问题标题
[简短描述问题]

### 测试环境
- 操作系统: [Windows 10/11 版本]
- 应用版本: [x.x.x]
- Gateway 版本: [x.x.x]

### 复现步骤
1. [步骤 1]
2. [步骤 2]
3. [步骤 3]

### 预期结果
[描述预期应该发生什么]

### 实际结果
[描述实际发生了什么]

### 错误截图/日志
[如有，请附上截图或相关日志]

### 严重程度
- [ ] 严重 (功能完全不可用)
- [ ] 一般 (功能部分受影响)
- [ ] 轻微 (不影响主要功能)

### 额外信息
[其他相关信息]
```

---

## 测试进度跟踪

| 阶段 | 总测试项 | 已通过 | 未通过 | 待测试 | 完成率 |
|------|----------|--------|--------|--------|--------|
| Phase 1 基础架构 | 20 | 0 | 0 | 20 | 0% |
| Phase 2 核心功能 | 35 | 0 | 0 | 35 | 0% |
| Phase 3 技能系统 | 15 | 0 | 0 | 15 | 0% |
| Phase 4 商业化 | 25 | 0 | 0 | 25 | 0% |
| 性能测试 | 10 | 0 | 0 | 10 | 0% |
| 安全测试 | 9 | 0 | 0 | 9 | 0% |
| **总计** | **114** | **0** | **0** | **114** | **0%** |

---

## 测试签署

| 角色 | 姓名 | 签署日期 | 签名 |
|------|------|----------|------|
| 测试执行人 | | | |
| 测试确认人 | | | |
| 开发确认人 | | | |

---

*— 测试计划结束 —*
